{"version":3,"file":"static/js/455.a7b3ae62.chunk.js","mappings":"8TAEaA,E,QAAUC,GAAAA,KAAH,0L,mBCKPC,EAAe,WAAO,IAAD,IACxBC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA0BE,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,QAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAeR,EAAAA,EAAAA,UAAQ,oBAACO,EAASE,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,CAAEC,SAAU,MAArDD,GAAP,eA4BA,OA1BAE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,IAAIC,gBACfC,EAAWF,EAAXE,OAmBR,OAjBA,iBAAC,2FACCX,EAAU,WADX,mBAIsBY,EAAAA,EAAAA,IAAkBC,OAAOnB,GAAUiB,GAJzD,OAISG,EAJT,OAKGhB,EAASgB,GACTd,EAAU,YANb,gDAQsB,kBAAf,KAAMe,OACRb,EACE,qEAEFF,EAAU,aAZf,wDAAD,GAiBO,WACLS,EAAWO,OACZ,CACF,GAAE,CAACtB,KAGF,iCACE,UAACH,EAAD,YACE,SAAC,KAAD,CAAU0B,GAAIX,EAAd,qBAEY,YAAXP,IAAwB,SAAC,KAAD,IAEb,aAAXA,IACC,iCACE,SAAC,KAAD,CAAYF,MAAOA,KACnB,2BACE,yBACE,SAAC,KAAD,CAAMoB,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,6BAMI,aAAXlB,IACC,SAAC,KAAD,CAASmB,KAAMjB,EAAOkB,MAAOC,QAIjC,SAAC,EAAAC,SAAD,WACE,SAAC,KAAD,QAIP,EAED,G,mMCvEAC,EAAAA,EAAAA,SAAAA,QAAyB,+BACzBA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAHc,mCAIdC,SAAU,SAGL,IAAMC,EAAsB,mCAAG,WAAMd,GAAN,uFACbW,EAAAA,EAAAA,IAAU,sBAAuB,CAAEX,OAAAA,IADtB,cAC9Be,EAD8B,yBAG7BA,EAASZ,KAAKa,SAHe,2CAAH,sDAMtBC,EAAgB,mCAAG,WAAOC,EAAGlB,GAAV,uFACPW,EAAAA,EAAAA,IAAA,8BAAiCO,GAAK,CAAElB,OAAAA,IADjC,cACxBe,EADwB,yBAGvBA,EAASZ,KAAKa,SAHS,2CAAH,wDAMhBf,EAAiB,mCAAG,WAAOkB,EAAInB,GAAX,uFACRW,EAAAA,EAAAA,IAAA,iBAAoBQ,GAAM,CAAEnB,OAAAA,IADpB,cACzBe,EADyB,yBAGxBA,EAASZ,MAHe,2CAAH,wDAMjBiB,EAAc,mCAAG,WAAOD,EAAInB,GAAX,uFACLW,EAAAA,EAAAA,IAAA,iBAAoBQ,EAApB,YAAkC,CAAEnB,OAAAA,IAD/B,cACtBe,EADsB,yBAGrBA,EAASZ,KAAKkB,MAHO,2CAAH,wDAMdC,EAAiB,mCAAG,WAAOH,EAAInB,GAAX,uFACRW,EAAAA,EAAAA,IAAA,iBAAoBQ,EAApB,YAAkC,CAAEnB,OAAAA,IAD5B,cACzBe,EADyB,yBAGxBA,EAASZ,KAAKa,SAHU,2CAAH,uD","sources":["page/MovieDetails/MovieDetails.styled.jsx","page/MovieDetails/MovieDetails.jsx","services/Api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Wrapper = styled.main`\n  padding-bottom: 10px;\n  border-bottom: 1px solid #b9b9b9;\n\n  ul {\n    padding-top: 10px;\n    padding-left: 20px;\n  }\n  li {\n    padding-top: 5px;\n  }\n`;","import { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { Suspense, useState, useEffect } from 'react';\nimport { fetchMovieDetails } from 'services/Api';\nimport { BackLink, DetailCard, Loader, Message } from 'components';\nimport { Wrapper } from './MovieDetails.styled';\nimport MovieApiError from 'assets/something-wrong-min.png';\n\nexport const MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState(null);\n  const location = useLocation();\n  const [from] = useState(location.state?.from ?? { pathname: '/' });\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const { signal } = controller;\n\n    (async () => {\n      setStatus('pending');\n\n      try {\n        const data = await fetchMovieDetails(Number(movieId), signal);\n        setMovie(data);\n        setStatus('resolved');\n      } catch (error) {\n        if (error.name !== 'CanceledError') {\n          setError(\n            'Oops, something went wrong. Please, reload the page to try again.'\n          );\n          setStatus('rejected');\n        }\n      }\n    })();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <>\n      <Wrapper>\n        <BackLink to={from}>Go Back</BackLink>\n\n        {status === 'pending' && <Loader />}\n\n        {status === 'resolved' && (\n          <>\n            <DetailCard movie={movie} />\n            <ul>\n              <li>\n                <Link to=\"cast\">Cast</Link>\n              </li>\n              <li>\n                <Link to=\"reviews\">Reviews</Link>\n              </li>\n            </ul>\n          </>\n        )}\n\n        {status === 'rejected' && (\n          <Message text={error} image={MovieApiError} />\n        )}\n      </Wrapper>\n\n      <Suspense>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = '5cbb87aef27f9b4333ebebc944ad48bd';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nexport const fetchMovieTrendingList = async signal => {\n  const response = await axios.get('/trending/movie/day', { signal });\n\n  return response.data.results;\n};\n\nexport const fetchMovieSearch = async (q, signal) => {\n  const response = await axios.get(`/search/movie?query=${q}`, { signal });\n\n  return response.data.results;\n};\n\nexport const fetchMovieDetails = async (id, signal) => {\n  const response = await axios.get(`/movie/${id}`, { signal });\n\n  return response.data;\n};\n\nexport const fetchMovieCast = async (id, signal) => {\n  const response = await axios.get(`/movie/${id}/credits`, { signal });\n\n  return response.data.cast;\n};\n\nexport const fetchMovieReviews = async (id, signal) => {\n  const response = await axios.get(`/movie/${id}/reviews`, { signal });\n\n  return response.data.results;\n};\n"],"names":["Wrapper","styled","MovieDetails","movieId","useParams","useState","movie","setMovie","status","setStatus","error","setError","location","useLocation","state","from","pathname","useEffect","controller","AbortController","signal","fetchMovieDetails","Number","data","name","abort","to","text","image","MovieApiError","Suspense","axios","api_key","language","fetchMovieTrendingList","response","results","fetchMovieSearch","q","id","fetchMovieCast","cast","fetchMovieReviews"],"sourceRoot":""}