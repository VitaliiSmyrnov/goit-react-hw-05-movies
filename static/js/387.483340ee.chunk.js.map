{"version":3,"file":"static/js/387.483340ee.chunk.js","mappings":"kRAEaA,E,QAAUC,GAAAA,GAAH,qI,mBC2DpB,EAtDgB,WACd,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA8BE,EAAAA,EAAAA,UAAS,MAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,QAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KA4BA,OA1BAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,IAAIC,gBACfC,EAAWF,EAAXE,OAmBR,OAjBA,iBAAC,2FACCN,EAAU,WADX,mBAIsBO,EAAAA,EAAAA,IAAkBC,OAAOd,GAAUY,GAJzD,OAISG,EAJT,OAKGX,EAAWW,GACXT,EAAU,YANb,gDAQsB,kBAAf,KAAMU,OACRR,EACE,wEAEFF,EAAU,aAZf,wDAAD,GAiBO,WACLI,EAAWO,OACZ,CACF,GAAE,CAACjB,KAGF,UAACF,EAAD,WACc,YAAXO,IAAwB,8CAD3B,OAGGF,QAHH,IAGGA,OAHH,EAGGA,EAASe,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAf,OACZ,2BACE,wBACE,oCAAYD,QAEd,uBAAIC,MAJGF,EADG,IASF,aAAXd,GAA4C,IAAnBF,EAAQmB,SAChC,oEAGU,aAAXjB,IAAyB,SAAC,KAAD,CAASkB,KAAMhB,EAAOiB,MAAOC,MAG5D,C,mMCxDDC,EAAAA,EAAAA,SAAAA,QAAyB,+BACzBA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAHc,mCAIdC,SAAU,SAGL,IAAMC,EAAsB,mCAAG,WAAMjB,GAAN,uFACbc,EAAAA,EAAAA,IAAU,sBAAuB,CAAEd,OAAAA,IADtB,cAC9BkB,EAD8B,yBAG7BA,EAASf,KAAKgB,SAHe,2CAAH,sDAMtBC,EAAgB,mCAAG,WAAOC,EAAGrB,GAAV,uFACPc,EAAAA,EAAAA,IAAA,8BAAiCO,GAAK,CAAErB,OAAAA,IADjC,cACxBkB,EADwB,yBAGvBA,EAASf,KAAKgB,SAHS,2CAAH,wDAMhBG,EAAiB,mCAAG,WAAOf,EAAIP,GAAX,uFACRc,EAAAA,EAAAA,IAAA,iBAAoBP,GAAM,CAAEP,OAAAA,IADpB,cACzBkB,EADyB,yBAGxBA,EAASf,MAHe,2CAAH,wDAMjBoB,EAAc,mCAAG,WAAOhB,EAAIP,GAAX,uFACLc,EAAAA,EAAAA,IAAA,iBAAoBP,EAApB,YAAkC,CAAEP,OAAAA,IAD/B,cACtBkB,EADsB,yBAGrBA,EAASf,KAAKqB,MAHO,2CAAH,wDAMdvB,EAAiB,mCAAG,WAAOM,EAAIP,GAAX,uFACRc,EAAAA,EAAAA,IAAA,iBAAoBP,EAApB,YAAkC,CAAEP,OAAAA,IAD5B,cACzBkB,EADyB,yBAGxBA,EAASf,KAAKgB,SAHU,2CAAH,uD","sources":["components/Reviews/Reviews.styled.jsx","components/Reviews/Reviews.jsx","services/Api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Wrapper = styled.ul`\n  margin-top: 10px;\n  padding-left: 20px;\n\n  p {\n    padding-top: 10px;\n    padding-bottom: 10px;\n  }\n`;\n","import { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { Message } from 'components';\nimport { fetchMovieReviews } from 'services/Api';\nimport { Wrapper } from './Reviews.styled';\nimport MovieApiError from 'assets/something-wrong-min.png';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const { signal } = controller;\n\n    (async () => {\n      setStatus('pending');\n\n      try {\n        const data = await fetchMovieReviews(Number(movieId), signal);\n        setReviews(data);\n        setStatus('resolved');\n      } catch (error) {\n        if (error.name !== 'CanceledError') {\n          setError(\n            'Oops, something went wrong. Please, reload the subpage to try again.'\n          );\n          setStatus('rejected');\n        }\n      }\n    })();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <Wrapper>\n      {status === 'pending' && <p>Loading subpage...</p>}\n\n      {reviews?.map(({ id, author, content }) => (\n        <li key={id}>\n          <p>\n            <b>Author: {author}</b>\n          </p>\n          <p>{content}</p>\n        </li>\n      ))}\n\n      {status === 'resolved' && reviews.length === 0 && (\n        <p>We don't have any reviews for this movie</p>\n      )}\n\n      {status === 'rejected' && <Message text={error} image={MovieApiError} />}\n    </Wrapper>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\nconst API_KEY = '5cbb87aef27f9b4333ebebc944ad48bd';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nexport const fetchMovieTrendingList = async signal => {\n  const response = await axios.get('/trending/movie/day', { signal });\n\n  return response.data.results;\n};\n\nexport const fetchMovieSearch = async (q, signal) => {\n  const response = await axios.get(`/search/movie?query=${q}`, { signal });\n\n  return response.data.results;\n};\n\nexport const fetchMovieDetails = async (id, signal) => {\n  const response = await axios.get(`/movie/${id}`, { signal });\n\n  return response.data;\n};\n\nexport const fetchMovieCast = async (id, signal) => {\n  const response = await axios.get(`/movie/${id}/credits`, { signal });\n\n  return response.data.cast;\n};\n\nexport const fetchMovieReviews = async (id, signal) => {\n  const response = await axios.get(`/movie/${id}/reviews`, { signal });\n\n  return response.data.results;\n};\n"],"names":["Wrapper","styled","movieId","useParams","useState","reviews","setReviews","status","setStatus","error","setError","useEffect","controller","AbortController","signal","fetchMovieReviews","Number","data","name","abort","map","id","author","content","length","text","image","MovieApiError","axios","api_key","language","fetchMovieTrendingList","response","results","fetchMovieSearch","q","fetchMovieDetails","fetchMovieCast","cast"],"sourceRoot":""}