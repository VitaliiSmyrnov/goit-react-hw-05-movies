{"version":3,"file":"static/js/903.607fdbf5.chunk.js","mappings":"8PAAaA,EAAgB,SAAAC,GAc3B,OAbmBA,EAAKC,MAAK,SAACC,EAAGC,GAC/B,OAAuB,OAAnBD,EAAEE,cAA4C,OAAnBD,EAAEC,aACxB,EAEc,OAAnBF,EAAEE,cAA4C,OAAnBD,EAAEC,aACxB,EAEc,OAAnBF,EAAEE,cAA4C,OAAnBD,EAAEC,cACvB,EAEH,CACR,GAGF,E,SCbYC,E,QAAUC,GAAAA,GAAH,8J,mBCmEpB,EA9Da,WACX,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAwBE,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA4BF,EAAAA,EAAAA,UAAS,QAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAcK,GAAd,WA0BA,OAxBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,IAAIC,gBACfC,EAAWF,EAAXE,OAiBR,OAfA,iBAAC,2FACCL,EAAU,WADX,mBAIsBM,EAAAA,EAAAA,IAAeC,OAAOb,GAAUW,GAJtD,OAISlB,EAJT,OAKGW,EAAQZ,EAAcC,IACtBa,EAAU,YANb,gDAQsB,kBAAf,KAAMQ,OACRP,EAAS,KAAMQ,SACfT,EAAU,aAVf,wDAAD,GAeO,WACLG,EAAWO,OACZ,CACF,GAAE,CAAChB,KAGF,UAACF,EAAD,WACc,YAAXO,IAAwB,8CAD3B,OAGGF,QAHH,IAGGA,OAHH,EAGGA,EAAMc,KAAI,YAA4C,IAAzCC,EAAwC,EAAxCA,GAAIrB,EAAoC,EAApCA,aAAciB,EAAsB,EAAtBA,KAAMK,EAAgB,EAAhBA,UAC9BC,EACa,OAAjBvB,EAAA,0CACuCA,GACnCwB,EAEN,OACE,2BACE,gBAAKC,IAAKF,EAAOG,IAAKT,KACtB,uBAAIA,KACJ,uCAAeK,OAHRD,EAMZ,IAEW,aAAXb,GAAyC,IAAhBF,EAAKqB,SAC7B,iEAGU,aAAXnB,IACC,kGAMP,C,mMChEDoB,EAAAA,EAAAA,SAAAA,QAAyB,+BACzBA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAHc,mCAIdC,SAAU,SAGL,IAAMC,EAAsB,mCAAG,WAAMjB,GAAN,uFACbc,EAAAA,EAAAA,IAAU,sBAAuB,CAAEd,OAAAA,IADtB,cAC9BkB,EAD8B,yBAG7BA,EAASpC,KAAKqC,SAHe,2CAAH,sDAMtBC,EAAgB,mCAAG,WAAOC,EAAGrB,GAAV,uFACPc,EAAAA,EAAAA,IAAA,8BAAiCO,GAAK,CAAErB,OAAAA,IADjC,cACxBkB,EADwB,yBAGvBA,EAASpC,KAAKqC,SAHS,2CAAH,wDAMhBG,EAAiB,mCAAG,WAAOf,EAAIP,GAAX,uFACRc,EAAAA,EAAAA,IAAA,iBAAoBP,GAAM,CAAEP,OAAAA,IADpB,cACzBkB,EADyB,yBAGxBA,EAASpC,MAHe,2CAAH,wDAMjBmB,EAAc,mCAAG,WAAOM,EAAIP,GAAX,uFACLc,EAAAA,EAAAA,IAAA,iBAAoBP,EAApB,YAAkC,CAAEP,OAAAA,IAD/B,cACtBkB,EADsB,yBAGrBA,EAASpC,KAAKU,MAHO,2CAAH,wDAMd+B,EAAiB,mCAAG,WAAOhB,EAAIP,GAAX,uFACRc,EAAAA,EAAAA,IAAA,iBAAoBP,EAApB,YAAkC,CAAEP,OAAAA,IAD5B,cACzBkB,EADyB,yBAGxBA,EAASpC,KAAKqC,SAHU,2CAAH,uD","sources":["utils/getSortedCast.js","components/Cast/Cast.styled.jsx","components/Cast/Cast.jsx","services/Api.js"],"sourcesContent":["export const getSortedCast = data => {\n  const sortedCast = data.sort((a, b) => {\n    if (a.profile_path !== null && b.profile_path !== null) {\n      return 0; // порядок не змінюється\n    }\n    if (a.profile_path === null && b.profile_path !== null) {\n      return 1; // a після b, бо b має profile_path\n    }\n    if (a.profile_path !== null && b.profile_path === null) {\n      return -1; // a перед b, бо a має profile_path\n    }\n    return 0; // порядок не змінюється, обидва мають profile_path = null\n  });\n\n  return sortedCast;\n};\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.ul`\n  margin-top: 10px;\n\n  li {\n    margin-bottom: 25px;\n  }\n\n  img {\n    width: 150px;\n  }\n\n  p {\n    margin-top: 10px;\n  }\n`;\n","import { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { fetchMovieCast } from 'services/Api';\nimport { getSortedCast } from 'utils/getSortedCast';\nimport { Wrapper } from './Cast.styled';\nimport NoPhoto from 'assets/no-photo.jpg';\n\nconst Cast = () => {\n  const { movieId } = useParams();\n  const [cast, setCast] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState(null); // eslint-disable-line\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const { signal } = controller;\n\n    (async () => {\n      setStatus('pending');\n\n      try {\n        const data = await fetchMovieCast(Number(movieId), signal);\n        setCast(getSortedCast(data));\n        setStatus('resolved');\n      } catch (error) {\n        if (error.name !== 'CanceledError') {\n          setError(error.message);\n          setStatus('rejected');\n        }\n      }\n    })();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <Wrapper>\n      {status === 'pending' && <p>Loading subpage...</p>}\n\n      {cast?.map(({ id, profile_path, name, character }) => {\n        const photo =\n          profile_path !== null\n            ? `https://image.tmdb.org/t/p/w500/${profile_path}`\n            : NoPhoto;\n\n        return (\n          <li key={id}>\n            <img src={photo} alt={name} />\n            <p>{name}</p>\n            <p>Character: {character}</p>\n          </li>\n        );\n      })}\n\n      {status === 'resolved' && cast.length === 0 && (\n        <p>We don't have any cast for this movie</p>\n      )}\n\n      {status === 'rejected' && (\n        <p>\n          Oops, something went wrong. Please, reload the subpage to try again.\n        </p>\n      )}\n    </Wrapper>\n  );\n};\n\nexport default Cast;\n","import axios from 'axios';\n\nconst API_KEY = '5cbb87aef27f9b4333ebebc944ad48bd';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nexport const fetchMovieTrendingList = async signal => {\n  const response = await axios.get('/trending/movie/day', { signal });\n\n  return response.data.results;\n};\n\nexport const fetchMovieSearch = async (q, signal) => {\n  const response = await axios.get(`/search/movie?query=${q}`, { signal });\n\n  return response.data.results;\n};\n\nexport const fetchMovieDetails = async (id, signal) => {\n  const response = await axios.get(`/movie/${id}`, { signal });\n\n  return response.data;\n};\n\nexport const fetchMovieCast = async (id, signal) => {\n  const response = await axios.get(`/movie/${id}/credits`, { signal });\n\n  return response.data.cast;\n};\n\nexport const fetchMovieReviews = async (id, signal) => {\n  const response = await axios.get(`/movie/${id}/reviews`, { signal });\n\n  return response.data.results;\n};\n"],"names":["getSortedCast","data","sort","a","b","profile_path","Wrapper","styled","movieId","useParams","useState","cast","setCast","status","setStatus","setError","useEffect","controller","AbortController","signal","fetchMovieCast","Number","name","message","abort","map","id","character","photo","NoPhoto","src","alt","length","axios","api_key","language","fetchMovieTrendingList","response","results","fetchMovieSearch","q","fetchMovieDetails","fetchMovieReviews"],"sourceRoot":""}